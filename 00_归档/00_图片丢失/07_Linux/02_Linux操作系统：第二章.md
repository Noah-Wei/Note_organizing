# 第二章：Linux基本操作

## 2.1 Linux文件与路径

### 2.1.1 文件结构

- **Windows与Linux文件系统区别**
  - **Windows**：**盘符分区**，每个驱动器都有自己的根目录结构，这样形成了多个树并列的情形
  - **Linux**：没有盘符这个概念，只有**一个根目录/**，所有文件都在它下面
- **Linux常见的系统文件目录**

| 目录      | 说明                               | 备注                                                         |
| --------- | ---------------------------------- | ------------------------------------------------------------ |
| **bin**   | **存放普通用户可执行的指令**       | 即使在单用户模式下也能够执行处理<br />**/bin, /usr/bin** 是给**系统用户**使用的指令（除root外的通用户），而**/sbin, /usr/sbin** 则是给**root**使用的指令。 |
| boot      | 开机引导目录                       | 包括Linux内核文件与开机所需要的文件                          |
| dev       | 设备目录                           | 所有的硬件设备及周边均放置在这个设备目录中                   |
| **etc**   | **各种配置文件目录**               | **大部分配置属性均存放在这里**<br />如果你更改了该目录下的某个文件可能会导致系统不能启动 |
| lib/lib64 | 开机时常用的动态链接库             | bin及sbin指令也会调用对应的lib库                             |
| media     | 可移除设备挂载目录                 | 类似软盘 U盘 光盘等临时挂放目录                              |
| mnt       | 用户临时挂载其他的文件系统         | 额外的设备可挂载在这里,相对临时而言                          |
| opt       | 第三方软件安装目录                 | 现在习惯性的放置在/usr/local中                               |
| proc      | 虚拟文件系统                       | 通常是内存中的映射,特别注意在误删除数据文件后，比如DB，只要系统不重启,还是有很大几率能将数据找回来 |
| root      | 系统管理员主目录                   | 除root之外,其他用户均放置在/home目录下                       |
| run       | 系统运行是所需文件                 | 以前防止在/var/run中,后来拆分成独立的/run目录。重启后重新生成对应的目录数据 |
| sbin      | 只有root才能运行的管理指令         | 跟bin类似,但只属于root管理员                                 |
| srv       | 服务启动后需要访问的数据目录       |                                                              |
| sys       | 跟proc一样虚拟文件系统             | 记录核心系统硬件信息                                         |
| tmp       | 存放临时文件目录                   | 所有用户对该目录均可读写                                     |
| usr       | 应用程序放置目录                   |                                                              |
| **var**   | **存放系统执行过程经常改变的文件** | 系统上跑了很多程序，那么每个程序都会有相应的**日志**产生，而这些日志就被记录到这个目录下，具体在/var/log 目录下，另外mail的预设放置也是在这里。 |

### 2.1.2 基本概念

- **用户目录：位于 /home/user，称之为用户工作目录或家目录,表示方式：**

```bash
# 在home有一个user  这里就是之前创建的eden用户
[root@localhost ~]# cd /home
[root@localhost home]# ls
eden

# 使用~回到root目录（root用户的家目录），使用/是回到根目录下
[root@localhost msb123]# cd ~
[root@localhost ~]# 

[root@localhost ~]# su eden
[eden@localhost root]$ cd ~
[eden@localhost ~]$ pwd
/home/eden
```

- **登录信息**

```bash
[root@localhost /]#

Linux的bash解析器终端用来显示主机名和当前用户的标识；

# root表示当前用户叫root（系统管理员账户）
# localhost表示当前使用的主机名叫localhost（没有设置系统名字的时候默认名称是localhost）
# / 表示你当前所处的目录位置 (这里的'/'表示你当前在根目录下)
```

- **相对路径和绝对路径**

  - **绝对路径**：从/目录开始描述的路径为绝对路径，如：

  ```bash
  [root@localhost /]# cd /home/eden
  [root@localhost /]# ls /usr
  ```

  -  **相对路径**：从当前位置开始描述的路径为相对路径，如：

  ```bash
  [root@localhost /]# cd ../../
  [root@localhost /]# ls abc/def
  ```

  - **. 和 ..**：每个目录下都有**.**和**..**

  ```
  . 表示当前目录
  
  .. 表示上一级目录，即父目录
  ```

- **文件权限**

  ​	文件权限就是**文件的访问控制权限**，即哪些用户和组群可以访问文件以及可以执行什么样的操作。

   	Unix/Linux系统是一个典型的多用户系统，不同的用户处于不同的地位，对文件和目录有不同的访问权限。为了保护系统的安全性Unix/Linux系统除了对用户权限作了严格的界定外，还在用户身份认证、访问控制、传输安全、文件读写权限等方面作了周密的控制。

  ​	在 Unix/Linux中的**每一个文件或目录都包含有访问权限**，这些访问权限决定了谁能访问和如何访问这些文件和目录。

- **访问用户**

  - 只允许用户自己访问（所有者） 所有者就是创建文件的用户，用户是所有用户所创建文件的所有者，用户可以允许所在的用户组能访问用户的文件。

  - 允许一个预先指定的用户组中的用户访问（用户组） 用户都组合成用户组，例如，某一类或某一项目中的所有用户都能够被系统管理员归为一个用户组，一个用户能够授予所在用户组的其他成员的文件访问权限。

  - 允许系统中的任何用户访问（其他用户） 用户也将自己的文件向系统内的所有用户开放，在这种情况下，系统内的所有用户都能够访问用户的目录或文件。在这种意义上，系统内的其他所有用户就是 other 用户类

- **访问权限**

  - 用户能够控制一个给定的文件或目录的访问程度，一个文件或目录可能有读、写及执行权限
  - **通常，Unix/Linux系统只允许文件的属主(所有者)或超级用户改变文件的读写权限。**

  ```
  - ​        读权限（r） 对文件而言，具有读取文件内容的权限；对目录来说，具有浏览目录的权限。
  - ​        写权限（w） 对文件而言，具有新增、修改文件内容的权限；对目录来说，具有删除、移动目录内文件的权限。
  - ​        可执行权限（x） 对文件而言，具有执行文件的权限；对目录了来说该用户具有进入目录的权限。
  ```

  ```bash
  l  rwx  rwx  rwx
  d  r-x  r-x  r-x
  
  # 首先第一个字母 在Linux中第一个字符代表这个文件是目录、文件或链接文件等等。
  [ d ] 表示目录
  [ l ] 表示为链接文档(link file)
  [ - ] 表示为文件
  [ b ] 表示为装置文件里面的可供储存的接口设备(可随机存取装置)
  [ c ] 表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)
  
  # 其次接下来的字符中，以三个为一组，且均为 [ rwx ] 的三个参数的组合
  [ r ]代表可读(read)
  [ w ]代表可写(write)
  [ x ]代表可执行(execute)
  [ - ]
  
  # 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。
  
    此时问题来了那么这三组一样是有什么区分尼？
  # 这里就涉及到刚才所描述的访问用户权限
  # 所有者    所有者表示该文件的所有者
  # 用户组    表示当前用户再同一组
  # 其他用户  允许系统中的任何用户访问，系统内的其他所有用户就是 other 用户类
  
  # 可以将这个权限进行类比，如我的篮球，
  # 所有者表示的是我可以玩 
  # 用户组表示，我可以借给我同班同学玩
  # 其他用户表示，我可以借给其他班的同学玩
  ```

- **文件属主与属组**、

  - 对于文件来说，它都有一个特定的所有者，也就是对该文件具有所有权的用户。
  - 同时，在Linux系统中，用户是按组分类的，一个用户属于一个或多个组。
  - 文件所有者以外的用户又可以分为文件所有者的同组用户和其他用户。
  - 因此，Linux系统按文件所有者、文件所有者同组用户和其他用户来规定了不同的文件访问权限。
  - **对于 root 用户来说，一般情况下，文件的权限对其不起作用**
