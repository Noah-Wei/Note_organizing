# 两台服务器同一IP，不同的端口转发

### 🌟 关键结论
**需要设置NAT转发**，因为：

1. 您的云服务器只有内网IP（172.16.0.x），无直接公网访问能力
2. 当前通过222.186.57.25的SSH端口映射访问服务器

### 📝 解决方案（两种）
---

#### 方案1：通过SSH隧道端口转发（推荐）
**适用场景**：临时连接或开发测试环境

1. **在本地机器建立SSH隧道**：
   ```bash
   ssh -L 1521:172.16.0.43:1521 root@222.186.57.25 -p 63128
   ```
   - `-L 本地端口:目标内网IP:目标端口`
   - 保持这个SSH连接不要关闭

2. **本地连接配置**：
   - 连接地址：`localhost:1521`
   - SID：您的Oracle SID（默认可能是XE）
   - 用户名/密码：您设置的Oracle凭证

---

#### 方案2：配置云平台NAT规则（永久方案）
**适用场景**：生产环境长期访问

1. **在云平台控制台操作**：
   - 找到NAT网关（222.186.57.25）的配置
   - 添加端口映射规则：
     ```
     外部端口：61521（或其他未占用端口）
     内部IP：172.16.0.43
     内部端口：1521
     协议：TCP
     ```

2. **本地连接配置**：
   - 连接地址：`222.186.57.25:61521`
   - 其他参数与方案1相同

